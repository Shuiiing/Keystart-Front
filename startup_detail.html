<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>창업이야기</title>
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/mobileSignStyle.css" />
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="jquery.bxslider/jquery.bxslider.js"></script>
</head>

<body>
    <header>
        <div class="TopNav-sub">
            <!-- 네비바 로고영역 -->
            <div class="logo-top">
                <img src="./img/logo/logoBlack.png" alt="" />
            </div>

            <!-- 네비바 중간영역 -->
            <div class="main-nav-sub">
                <a href="#keystart" class="nav-link-sub">키스타트란?</a>
                <a href="#partners" class="nav-link-sub">파트너사</a>
                <a href="#stories" class="nav-link-sub">창업 이야기</a>
                <a href="#info" class="nav-link-sub">창업 관련 정보</a>
            </div>

            <!-- 네비바 버튼영역 -->
            <div class="info-sub" onclick="logout()">
                <img src="./img/user.png" alt="" />
            </div>
        </div>
    </header>

    <div class="content-total">

        <div class="editor">
        </div>

    </div>


    <footer>
        <div class="footer">
            <div class="footer-left">
                <div class="logo">
                    <img class="logo-img" src="./img/logoWhite.png" alt="로고" />
                </div>
                <div class="links">
                    <div class="footer-link">이용약관</div>
                    <div class="separator">ㅣ</div>
                    <div class="footer-link">개인정보 처리방침</div>
                </div>
                <div class="contact-info">
                    <div class="info-item">
                        <span class="label title">상호명</span>
                        <span class="value">키스타트</span>
                        <span class="label title"> | </span>
                        <span class="label title">주소</span>
                        <span class="value">울산광역시 중구 운곡8길 82-2, 201호(다운동)</span>
                    </div>
                    <div class="info-item">
                        <span class="label title">사업자등록번호</span>
                        <span class="value">607-79-00239
                            <a href="#" class="business-info-link">[사업자 정보 확인]</a></span>
                    </div>
                    <div class="info-item">
                        <span class="label title">E-MAIL</span>
                        <span class="value">keystart.official@keystart.co.kr</span>
                        <span class="label title"> | </span>
                        <span class="label title">TEL</span>
                        <span class="value">010-9043-9908</span>
                    </div>
                </div>
            </div>
            <div class="footer-right">
                <div class="community">커뮤니티</div>
                <div class="notification">공지사항</div>
                <div class="requestion">자주 묻는 질문</div>
                <div class="social-item">
                    <div class="social">
                        <img class="insta" src="./img/social/insta.png" alt="" />
                    </div>
                    <div class="social">
                        <img class="kakao" src="./img/social/kakao.png" alt="" />
                    </div>
                    <div class="social">
                        <img class="blog" src="./img/social/blog.png" alt="" />
                    </div>
                </div>
            </div>
        </div>
    </footer>

</body>
<script>
    // ------------  스크롤을 내렸을때 글씨가 바뀌는 작업 ------------
    window.addEventListener("scroll", function () {
        var navbar = document.querySelector(".TopNav");
        if (window.scrollY > 0) {
            navbar.classList.add("scrolled");
        } else {
            navbar.classList.remove("scrolled");
        }
    });
    // ------------  스크롤을 내렸을때 글씨가 바뀌는 작업 ------------


    // ---------------- 탭 클릭 이벤트 핸들러 추가 ----------------
    document.querySelectorAll('.tab-area input[type="radio"]').forEach(function (tab) {
        tab.addEventListener('change', function () {
            var contentId = this.getAttribute('id').replace('tab', 'content');
            document.querySelectorAll('.tab-content').forEach(function (content) {
                content.style.display = 'none';
            });
            document.getElementById(contentId).style.display = 'block';
        });
    });
    // ---------------- 탭 클릭 이벤트 핸들러 추가 ----------------


    // ----------------- 통신(READ) -------------------

    var storyId = '65fbfad28c4ec153c49ae2d5';

    function updateContent(response) {
        // 에디터의 값을 업데이트
        $('.editor').html(response.content);
        // 진짜 신기하다 바로 값이 수정이 가능하구나
        // 자바스크립트는 배워두면 진짜 재밌겠다.
        // 틑틈히 배우자 !
        // $('.tags-title2').text(response.category);
    }


    // 페이지가 그려지는 순간 즉시 실행 함수로 바로 그려줌
    $(document).ready(function () {
        // 페이지가 로드되면 실행될 코드 작성
        // 서버에서 데이터를 가져와서 에디터의 내용을 업데이트 하는 코드 등을 여기에 작성합니다.
        $.ajax({
            url: `http://localhost:8282/story/list/${storyId}`,
            method: 'GET',
            contentType: 'application/json',
            processData: false,
            success: function (response) {
                updateContent(response);
                console.log('서버 응답: ', response);
            },
            error: function (xhr, status, error) {
                console.error('에러 발생', error);
            }
        });
    });
</script>

</html>